/**
 * --------------------------------------------------------------------
 * Tooltip plugin for the jQuery-Plugin "Visualize"
 * Tolltip by IraĂŞ Carvalho, irae@irae.pro.br, http://irae.pro.br/en/
 * Copyright (c) 2010 IraĂŞ Carvalho
 * Dual licensed under the MIT (filamentgroup.com/examples/mit-license.txt) and GPL (filamentgroup.com/examples/gpl-license.txt) licenses.
 * 	
 * Visualize plugin by Scott Jehl, scott@filamentgroup.com
 * Copyright (c) 2009 Filament Group, http://www.filamentgroup.com
 *
 * --------------------------------------------------------------------
 */

(function(a){a.visualizePlugins.push(function(c,d){var e=a.extend({tooltip:false,tooltipalign:"auto",tooltipvalign:"top",tooltipclass:"visualize-tooltip",tooltiphtml:function(a){if(c.multiHover){var b="";for(var d=0;d<a.point.length;d++){b+="<p>"+a.point[d].value+" - "+a.point[d].yLabels[0]+"</p>"}return b}else{return"<p>"+a.point.value+" - "+a.point.yLabels[0]+"</p>"}},delay:false},c);if(!e.tooltip){return}var f=a(this),g=f.next(),h=g.find(".visualize-scroller"),i=h.width(),j=g.find(".visualize-interaction-tracker");j.css({backgroundColor:"white",opacity:0,zIndex:100});var k=a('<div class="'+e.tooltipclass+'"/>').css({position:"absolute",display:"none",zIndex:90}).insertAfter(h.find("canvas"));var l=true;if(typeof G_vmlCanvasManager!="undefined"){h.css({position:"absolute"});j.css({marginTop:"-"+e.height+"px"})}f.bind("vizualizeOver",function(c,d){if(d.canvasContain.get(0)!=g.get(0)){return}if(e.multiHover){var f=d.point[0].canvasCords}else{var f=d.point.canvasCords}var j,m,n,p,q,r,s=Math.round(f[0]+d.tableData.zeroLocX),t=Math.round(f[1]+d.tableData.zeroLocY);if(e.tooltipalign=="left"||e.tooltipalign=="auto"&&s-h.scrollLeft()<=i/2){if(a.browser.msie&&(a.browser.version==7||a.browser.version==6)){l=false}else{l=true}j=s-(l?h.scrollLeft():0)+"px";m="";clasAdd="tooltipleft";p="tooltipright"}else{if(a.browser.msie&&a.browser.version==7){l=false}else{l=true}j="";m=Math.abs(s-e.width)-(e.width-(l?h.scrollLeft():0)-i)+"px";clasAdd="tooltipright";p="tooltipleft"}k.addClass(clasAdd).removeClass(p).html(e.tooltiphtml(d)).css({display:"block",top:t+"px",left:j,right:m})});f.bind("vizualizeOut",function(b,c){k.css({display:"none"})})})})(jQuery)
