/*!
 * jQuery twitter bootstrap wizard plugin
 * Examples and documentation at: http://github.com/VinceG/twitter-bootstrap-wizard
 * version 1.0
 * Requires jQuery v1.3.2 or later
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 * Authors: Vadim Vincent Gabriel (http://vadimg.com), Jason Gill (www.gilluminate.com)
 */
(function(e){var h=function(c,g){c=e(c);var b=this,a=e.extend({},e.fn.bootstrapWizard.defaults,g),f=null,d=null;this.fixNavigationButtons=function(){f.length||(d.find("a:first").tab("show"),f=d.find("li:first"));b.firstIndex()>=b.currentIndex()?e("li.previous",c).addClass("disabled"):e("li.previous",c).removeClass("disabled");b.currentIndex()>=b.navigationLength()?e("li.next",c).addClass("disabled"):e("li.next",c).removeClass("disabled");if(a.onTabShow&&"function"===typeof a.onTabShow&&!1===a.onTabShow(f,
d,b.currentIndex()))return!1};this.next=function(){if(c.hasClass("last")||a.onNext&&"function"===typeof a.onNext&&!1===a.onNext(f,d,b.nextIndex()))return!1;$index=b.nextIndex();$index>b.navigationLength()||d.find("li:eq("+$index+") a").tab("show")};this.previous=function(){if(c.hasClass("first")||a.onPrevious&&"function"===typeof a.onPrevious&&!1===a.onPrevious(f,d,b.previousIndex()))return!1;$index=b.previousIndex();0>$index||d.find("li:eq("+$index+") a").tab("show")};this.first=function(){if(a.onFirst&&
"function"===typeof a.onFirst&&!1===a.onFirst(f,d,b.firstIndex())||c.hasClass("disabled"))return!1;d.find("li:eq(0) a").tab("show")};this.last=function(){if(a.onLast&&"function"===typeof a.onLast&&!1===a.onLast(f,d,b.lastIndex())||c.hasClass("disabled"))return!1;d.find("li:eq("+b.navigationLength()+") a").tab("show")};this.currentIndex=function(){return d.find("li").index(f)};this.firstIndex=function(){return 0};this.lastIndex=function(){return b.navigationLength()};this.getIndex=function(a){return d.find("li").index(a)};
this.nextIndex=function(){return d.find("li").index(f)+1};this.previousIndex=function(){return d.find("li").index(f)-1};this.navigationLength=function(){return d.find("li").length-1};this.activeTab=function(){return f};this.nextTab=function(){return d.find("li:eq("+(b.currentIndex()+1)+")").length?d.find("li:eq("+(b.currentIndex()+1)+")"):null};this.previousTab=function(){return 0>=b.currentIndex()?null:d.find("li:eq("+parseInt(b.currentIndex()-1)+")")};this.show=function(a){return c.find("li:eq("+
a+") a").tab("show")};d=c.find("ul:first",c);f=d.find("li.active",c);d.hasClass(a.tabClass)||d.addClass(a.tabClass);if(a.onInit&&"function"===typeof a.onInit)a.onInit(f,d,0);e(a.nextSelector,c).bind("click",b.next);e(a.previousSelector,c).bind("click",b.previous);e(a.lastSelector,c).bind("click",b.last);e(a.firstSelector,c).bind("click",b.first);if(a.onShow&&"function"===typeof a.onShow)a.onShow(f,d,b.nextIndex());b.fixNavigationButtons();e('a[data-toggle="tab"]',c).on("click",function(c){c=d.find("li").index(e(c.currentTarget).parent("li"));
if(a.onTabClick&&"function"===typeof a.onTabClick&&!1===a.onTabClick(f,d,b.currentIndex(),c))return!1});e('a[data-toggle="tab"]',c).on("show",function(a){$element=e(a.target).parent();if($element.hasClass("disabled"))return!1;f=$element;b.fixNavigationButtons()})};e.fn.bootstrapWizard=function(c){if("string"==typeof c){var g=Array.prototype.slice.call(arguments,1).toString();return this.data("bootstrapWizard")[c](g)}return this.each(function(){var b=e(this);if(!b.data("bootstrapWizard")){var a=new h(b,
c);b.data("bootstrapWizard",a)}})};e.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabClick:null,onTabShow:null}})(jQuery);
